task getSingingProperties() {
    File signingFile = file("$projectDir/../signing.properties")

    if (signingFile.exists()) {
        ext.signingProperties.load(new FileInputStream(signingFile))

        if (ext.signingProperties.containsKey('storeFile') && file(ext.signingProperties.storeFile).exists()) {
            ext.signingProperties.isUseSigningConfig = true;
        } else {
            ext.signingProperties.isUseSigningConfig = false;
        }
    } else {
        ext.signingProperties.isUseSigningConfig = false;
    }

    if (ext.signingProperties.isUseSigningConfig) {
        println ext.signingProperties.keystore + " - " + ext.signingProperties.key
    } else {
        println "No signing"
    }
}

tasks.withType(JavaCompile) {
    compileTask -> compileTask.dependsOn('getSingingProperties')
}
